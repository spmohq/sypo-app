<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Knowledge Gap Finder | DigiMade</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Code+Pro:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg-gradient-start: #1f2937;
      --bg-gradient-end: #111827;
      --card-bg: rgba(31, 41, 55, 0.5); /* Semi-transparent card background */
      --card-border: rgba(255, 255, 255, 0.1);
      --text-primary: #f9fafb;
      --text-secondary: #d1d5db;
      --text-heading: #ffffff;
      --accent-primary: #22d3ee;
      --accent-hover: #67e8f9;
      --accent-success: #34d399;
      --input-bg: #374151;
      --code-bg: rgba(0, 0, 0, 0.3);
      --shadow-color: rgba(0, 0, 0, 0.25);
    }
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* --- START: ADDED PROTECTION CSS --- */
    body {
      -webkit-user-select: none; /* Safari */
      -ms-user-select: none; /* IE 10+ and Edge */
      user-select: none; /* Standard syntax */
    }
    textarea, input {
      -webkit-user-select: text; /* Safari */
      -ms-user-select: text; /* IE 10+ and Edge */
      user-select: text; /* Standard syntax */
    }
    /* --- END: ADDED PROTECTION CSS --- */


    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
      color: var(--text-primary);
      line-height: 1.6;
      padding: 40px 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    .container {
      max-width: 900px;
      width: 100%;
      margin: 0 auto;
      flex-grow: 1;
    }
    header {
      text-align: center;
      margin-bottom: 40px;
    }
    h1 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-heading);
      letter-spacing: -1px;
      margin-bottom: 10px;
    }
    p.subtitle {
      font-size: 1.1rem;
      color: var(--text-secondary);
    }
    .input-card, .prompt-card {
      background-color: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 16px;
      box-shadow: 0 8px 32px 0 var(--shadow-color);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      padding: 25px;
      display: flex;
      flex-direction: column;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .input-card:hover, .prompt-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 40px 0 var(--shadow-color);
    }
    .input-card {
        margin-bottom: 40px;
    }
    .input-card h2, .prompt-card h2 {
      font-size: 1.75rem;
      font-weight: 600;
      color: var(--text-heading);
      margin-bottom: 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid var(--card-border);
    }
    .input-group {
        display: flex;
        flex-direction: column;
        gap: 15px;
    }
    .input-field label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: var(--text-secondary);
    }
    .input-field textarea, .input-field input {
        width: 100%;
        background-color: var(--input-bg);
        border: 1px solid var(--card-border);
        border-radius: 8px;
        padding: 12px;
        font-family: 'Inter', sans-serif;
        color: var(--text-primary);
        font-size: 1rem;
        transition: border-color 0.3s, box-shadow 0.3s;
    }
    .input-field textarea:focus, .input-field input:focus {
        outline: none;
        border-color: var(--accent-primary);
        box-shadow: 0 0 0 3px rgba(34, 211, 238, 0.3);
    }
    .input-field textarea {
        min-height: 150px;
        resize: vertical;
    }
    .prompts-container {
      display: grid;
      gap: 30px;
    }
    .prompt-text {
      background-color: var(--code-bg);
      padding: 20px;
      border-radius: 10px;
      white-space: pre-wrap;
      word-wrap: break-word;
      font-family: 'Source Code Pro', "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
      font-size: 1rem;
      color: var(--text-primary);
      font-weight: 400; /* Regular weight for better readability */
      flex-grow: 1;
      margin-bottom: 20px;
      border: 1px solid var(--card-border);
    }
    .copy-button {
      align-self: flex-end;
      padding: 10px 20px;
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--bg-gradient-end);
      background-color: var(--accent-primary);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s, transform 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .copy-button:hover {
      background-color: var(--accent-hover);
      transform: scale(1.05);
    }
    .copy-button.copied {
      background-color: var(--accent-success);
    }
    .copy-button .icon { width: 16px; height: 16px; }
    .copy-button .copied-icon { display: none; }
    .copy-button.copied .copy-icon { display: none; }
    .copy-button.copied .copied-icon { display: inline-block; }
    
    footer {
        text-align: center;
        margin-top: 50px;
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

/* Prevents Google's top bar from pushing the page down */
html {
    top: 0 !important;
}

#translate-btn {
    position: fixed;
    top: 50%;
    right: 0;
    transform: translateY(-50%);
    z-index: 1001;
    background-color: #007bff;
    color: white;
    writing-mode: vertical-rl;
    padding: 1.2rem 0.6rem;
    border-radius: 10px 0 0 10px;
    box-shadow: -2px 2px 8px rgba(0,0,0,0.2);
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    border: none;
    transition: all 0.3s ease;
}

#translate-btn:hover {
    background-color: #0056b3;
    padding-right: 0.8rem;
}

#translate-btn .fa-solid {
    transform: rotate(90deg);
}

/* This is the container Google's script will use */
#google_translate_element {
    display: none; 
    position: fixed;
    top: 1rem;
    right: 1rem;
    z-index: 1002;
}

    @media (max-width: 600px) {
      body { padding: 20px 15px; }
      h1 { font-size: 2rem; }
      .prompt-card h2 { font-size: 1.4rem; }
      .prompt-text { font-size: 0.9rem; }
    }
  </style>
</head>
<body>
<!-- The sticky button the user can click -->
<button id="translate-btn">
    <i class="fa-solid fa-language"></i> Translate
</button>

<!-- An empty div that Google Translate's script will use -->
<div id="google_translate_element"></div>
  <div class="container">
    <header>
      <h1>Knowledge Gap Finder</h1>
      <h3 class="subtitle">Spot the gaps. Master the subject</h3>
      <div style="padding-top: 10px;"> </div>
      <p class="subtitle">(Enter your text and desired language to generate detailed analysis prompts.)</p>
    </header>

    <main>
      <div class="input-card">
        <h2>Your Content</h2>
        <div class="input-group">
          <div class="input-field">
            <label for="userText">Insert Your Text Here</label>
            <textarea id="userText" placeholder="Paste or type your content here..."></textarea>
          </div>
          <div class="input-field">
            <label for="userLanguage">Desired Language</label>
            <input type="text" id="userLanguage" placeholder="e.g., English, Bengali, Hindi, Gujarati etc.">
          </div>
        </div>
      </div>

      <div class="prompts-container" id="promptsContainer">
        <!-- Prompts will be injected here by JS -->
        <div class="prompt-card">
          <h2>Prompt 1: Accessibility & Assumptions</h2>
          <pre id="prompt1" class="prompt-text"></pre>
          <button class="copy-button" data-target="prompt1">
            <svg class="icon copy-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" /></svg>
            <svg class="icon copied-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>
            <span class="button-text">Copy Prompt</span>
          </button>
        </div>
        <div class="prompt-card">
          <h2>Prompt 2: Coherence & Missing Links</h2>
          <pre id="prompt2" class="prompt-text"></pre>
          <button class="copy-button" data-target="prompt2">
            <svg class="icon copy-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" /></svg>
            <svg class="icon copied-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>
            <span class="button-text">Copy Prompt</span>
          </button>
        </div>
        <div class="prompt-card">
            <h2>Prompt 3: Follow-up Questions</h2>
            <pre id="prompt3" class="prompt-text"></pre>
            <button class="copy-button" data-target="prompt3">
              <svg class="icon copy-icon" xmlns="http://www.w.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" /></svg>
              <svg class="icon copied-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg>
              <span class="button-text">Copy Prompt</span>
            </button>
          </div>
      </div>
    </main>
    <footer>
        <p>Copyright &copy; <script>document.write(new Date().getFullYear())</script> DigiMade.online | All Rights Reserved.</p>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const userTextInput = document.getElementById('userText');
      const userLanguageInput = document.getElementById('userLanguage');
      const promptsContainer = document.getElementById('promptsContainer');
      const prompt1El = document.getElementById('prompt1');
      const prompt2El = document.getElementById('prompt2');
      const prompt3El = document.getElementById('prompt3');

      const baseInstructions = `Please write your answer in the most natural sounding {{LANGUAGE}} language that can be understood by an 11 year old but contains the international standards of marketing and language.

• Always the tone should remain warm, conversational, and approachable.
• Write in the first person, using descriptive, natural language.
• The voice should feel like a close friend and a trusted authority, speaking one-on-one with the reader in a natural, face-to-face style.`;

      const prompt1Template = `Please read the following text and answer the questionnaire.

Text:

“{{TEXT}}”

Questionnaire:

1. Does this content present the information in a way that is accessible to readers of all levels of understanding?
2. Please provide a numbered list of the assumptions it makes about its readers' familiarity.
3. Please provide a numbered list of the assumptions it makes about its readers' experiences.
4. Please provide a numbered list of the assumptions it makes about its readers' skills.

${baseInstructions}`;

      const prompt2Template = `Missing Links: Coherence

Is there anything missing in this content? If so, where would that 'missing link' fit within this content?"

What are the missing links that need to be added throughout this content from start to finish?

Please rewrite the provided content, adding all the missing links from beginning to end.

The provided content is:
“{{TEXT}}”

${baseInstructions}`;

      const prompt3Template = `Follow-up Questions:

Please provide me with a list of ten follow-up questions that may arise in the minds of readers immediately after reading this content.

The content is:
“{{TEXT}}”

${baseInstructions}`;

      function updatePrompts() {
        const userText = userTextInput.value.trim() || '[Insert Your Text Here]';
        const userLanguage = userLanguageInput.value.trim() || '[Desired Language]';
        prompt1El.textContent = prompt1Template.replace('{{TEXT}}', userText).replace('{{LANGUAGE}}', userLanguage);
        prompt2El.textContent = prompt2Template.replace('{{TEXT}}', userText).replace('{{LANGUAGE}}', userLanguage);
        prompt3El.textContent = prompt3Template.replace('{{TEXT}}', userText).replace('{{LANGUAGE}}', userLanguage);
      }
      
      userTextInput.addEventListener('input', updatePrompts);
      userLanguageInput.addEventListener('input', updatePrompts);

      promptsContainer.addEventListener('click', (event) => {
        const button = event.target.closest('.copy-button');
        if (!button) return;
        const targetId = button.dataset.target;
        const textToCopy = document.getElementById(targetId).textContent;
        const buttonTextEl = button.querySelector('.button-text');
        navigator.clipboard.writeText(textToCopy).then(() => {
          const originalText = buttonTextEl.textContent;
          buttonTextEl.textContent = 'Copied!';
          button.classList.add('copied');
          setTimeout(() => {
            buttonTextEl.textContent = originalText;
            button.classList.remove('copied');
          }, 2000);
        }).catch(err => {
          console.error('Failed to copy text: ', err);
          alert('Failed to copy text. Please try again.');
        });
      });
      
      updatePrompts();
    });
  </script>

<script>
// This function must be globally available for the Google script's callback
function googleTranslateElementInit() {
  new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
  
  // Show Google's widget and hide our custom button once initialized
  const translateElement = document.getElementById('google_translate_element');
  if (translateElement) translateElement.style.display = 'block';

  const customTranslateBtn = document.getElementById('translate-btn');
  if (customTranslateBtn) customTranslateBtn.style.display = 'none';
}

// This function dynamically loads the Google Translate script
function activateGoogleTranslate() {
  // Prevent loading the script multiple times
  if (document.querySelector('script[src*="translate.google.com"]')) {
    return;
  }
  const script = document.createElement('script');
  script.src = "https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit";
  script.async = true;
  document.body.appendChild(script);
}

// Main logic runs after the page content has loaded
document.addEventListener("DOMContentLoaded", () => {
    const translateBtn = document.getElementById('translate-btn');

    // **This logic makes the URL work!**
    // Check if the URL hash requests an automatic translation
    if (window.location.hash.includes("#googtrans")) {
        // If yes, load the Google Translate script immediately.
        activateGoogleTranslate();
    } else {
        // If no, and the button exists, set up the click listener for it.
        if (translateBtn) {
            translateBtn.addEventListener('click', activateGoogleTranslate);
        }
    }
});
</script>

  <!-- START: Protection Script -->
  <script>
    // Disable right-click context menu
    document.addEventListener('contextmenu', function(e) {
      e.preventDefault();
      // Optional: You can alert the user if you want
      // alert('Right-clicking is disabled on this page.');
    });

    // Disable keyboard shortcuts for developer tools and view source
    document.addEventListener('keydown', function(e) {
      // Disable F12
      if (e.key === 'F12' || e.keyCode === 123) {
        e.preventDefault();
      }
      // Disable Ctrl+Shift+I
      if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.keyCode === 73)) {
        e.preventDefault();
      }
      // Disable Ctrl+Shift+C
      if (e.ctrlKey && e.shiftKey && (e.key === 'C' || e.key === 'c' || e.keyCode === 67)) {
        e.preventDefault();
      }
      // Disable Ctrl+Shift+J
      if (e.ctrlKey && e.shiftKey && (e.key === 'J' || e.key === 'j' || e.keyCode === 74)) {
        e.preventDefault();
      }
      // Disable Ctrl+S (Save)
      if (e.ctrlKey && (e.key === 'S' || e.key === 's' || e.keyCode === 83)) {
        e.preventDefault();
      }
      // Disable Ctrl+U (View Source)
      if (e.ctrlKey && (e.key === 'U' || e.key === 'u' || e.keyCode === 85)) {
        e.preventDefault();
      }
    });
  </script>
  <!-- END: Protection Script -->

</body>
</html>